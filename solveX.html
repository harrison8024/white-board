<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Solve for x</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
        const input = "2+2*x=22-2";
        const inputArray = [];
        document.write("input: ", input);
        for(inputIndex = 0; inputIndex < input.length; inputIndex++){
            if(!isNaN(input[inputIndex]) && !isNaN(input[inputIndex+1])){
                let concatNum = input[inputIndex] + input[inputIndex+1];
                inputArray.push(concatNum);
                inputIndex+=2;
            } 
            inputArray.push(input[inputIndex]); 
        }
        console.log(inputArray);
        const newInputArray = [];
        var numWithX = null;
        for(inputArrayIndex = 0; inputArrayIndex < inputArray.length; inputArrayIndex++){
            if(inputArray[inputArrayIndex] === '*' && inputArray[inputArrayIndex+1] === 'x'){
                numWithX = inputArray[inputArrayIndex-1] + inputArray[inputArrayIndex+1];
                newInputArray.splice(inputArrayIndex-1, 1);
                newInputArray.push(numWithX);
                inputArrayIndex++;
            } else if(inputArray[inputArrayIndex] === '*' && inputArray[inputArrayIndex+1] !== 'x' ){
                let productNum = inputArray[inputArrayIndex-1] * inputArray[inputArrayIndex+1];
                newInputArray.push(productNum);
            } else if(inputArray[inputArrayIndex] === '/' && inputArray[inputArrayIndex+1] !== 'x'){
                let divideNum = inputArray[inputArrayIndex-1] / inputArray[inputArrayIndex+1];
            } else{
                newInputArray.push(inputArray[inputArrayIndex]);
            }
        }
        console.log(newInputArray);
        console.log(numWithX);
        console.log(newInputArray.indexOf(numWithX));
        const indexOfEqual = newInputArray.indexOf('=');
        if(newInputArray.indexOf(numWithX) < indexOfEqual){
            var rightSideNum = null;
            for( let newInputArrayIndex = indexOfEqual; newInputArrayIndex < newInputArray.length; newInputArrayIndex++ ){
                if(!rightSideNum){
                    rightSideNum = parseInt(newInputArray[newInputArrayIndex]);
                }
                if(newInputArray[newInputArrayIndex] === '+'){
                    rightSideNum += parseInt(newInputArray[newInputArrayIndex+1]);
                } else if(newInputArray[newInputArrayIndex] === '-'){
                    rightSideNum -= parseInt(newInputArray[newInputArrayIndex+1]);
                }
            }
            console.log(rightSideNum);
            var xSideNum = 0;
            for( let newInputArrayIndex = 0; newInputArrayIndex < indexOfEqual; newInputArrayIndex++ ){
                if(newInputArrayIndex === 0 || newInputArray[newInputArrayIndex-1] === '+' && !isNaN(newInputArray[newInputArrayIndex])){
                    xSideNum += parseInt(newInputArray[newInputArrayIndex]);
                } 
                console.log(xSideNum);
                // else if(newInputArray[newInputArrayIndex-1]){

                // }
            }

        } else if(newInputArray.indexOf(numWithX) > indexOfEqual) {
            var leftSideNum = null;
            for( let newInputArrayIndex = 0; newInputArrayIndex < indexOfEqual; newInputArrayIndex++ ){
                if(!leftSideNum){
                    rightSideNum = parseInt(newInputArray[newInputArrayIndex]);
                }
                if(newInputArray[newInputArrayIndex] === '+'){
                    leftSideNum += parseInt(newInputArray[newInputArrayIndex+1]);
                } else if(newInputArray[newInputArrayIndex] === '-'){
                    leftSideNum -= parseInt(newInputArray[newInputArrayIndex+1]);
                }
            }
            console.log(leftSideNum);
        }


    </script>
</head>
<body>
    
</body>
</html>